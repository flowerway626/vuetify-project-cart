import{a as p,aG as f,ac as m,o as a,c as s,b as n,V,w as c,e as d,f as y,F as _,aH as h,d as t,af as u}from"./index.a0c66284.js";import{V as w}from"./VTable.9c5691d2.js";const x={id:"orders"},D=t("h1",{class:"text-center"},"\u8A02\u55AE\u7BA1\u7406",-1),g=t("thead",null,[t("tr",null,[t("th",null,"ID"),t("th",null,"\u65E5\u671F"),t("th",null,"\u7528\u6236\u540D"),t("th",null,"\u91D1\u984D"),t("th",null,"\u5546\u54C1")])],-1),k=t("tbody",null,null,-1),S={__name:"OrdersView",setup(b){const o=p([]);return(async()=>{try{const{data:i}=await f.get("/orders/all");o.push(...i.result.map(r=>(r.totalPrice=r.products.reduce((e,l)=>e+l.p_id.price*l.quantity,0),r)))}catch{m.fire({icon:"error",title:"\u5931\u6557",text:"\u53D6\u5F97\u8A02\u55AE\u5931\u6557"})}})(),(i,r)=>(a(),s("div",x,[n(V),n(d,{cols:"12"},{default:c(()=>[D]),_:1}),n(y),n(d,{cols:"12"},{default:c(()=>[n(w,null,{default:c(()=>[g,k,(a(!0),s(_,null,h(o,e=>(a(),s("tr",{key:e._id},[t("td",null,u(e._id),1),t("td",null,u(new Date(e.date).toLocaleDateString()),1),t("td",null,u(e.u_id.account),1),t("td",null,u(e.totalPrice),1),t("td",null,[t("ul",null,[(a(!0),s(_,null,h(e.products,l=>(a(),s("li",{key:l._id},u(l.quantity+" \u500B "+l.p_id.name),1))),128))])])]))),128))]),_:1})]),_:1})]))}};export{S as default};
