import{r as x,k as g,L as Y,$ as q,l as P,_ as Q,aL as ee,s as te,aM as ae,aN as ne,aO as oe,aP as le,aK as ue,z as ie,az as re,D as se,aQ as ce,J as X,t as z,aR as ve,aw as de,aS as me,aB as fe,j as he,aT as ge,Z as we,aU as ye,aV as be,v as _e,aW as pe,b as c,Q as Se,aE as ke,F as j,a7 as Ee,u as Te,aX as Me,aY as xe,o as Be,c as Ve,w as L,aZ as Ce,Y as A,f as Re,a_ as Le}from"./index.a0c66284.js";import{V as Z,a as H}from"./VList.dbc14df0.js";function Ye(e){let{rootEl:r,isSticky:s,layoutItemStyles:a}=e;const o=x(!1),t=x(0),v=g(()=>{const h=typeof o.value=="boolean"?"top":o.value;return[s.value?{top:"auto",bottom:"auto",height:void 0}:void 0,o.value?{[h]:Y(t.value)}:{top:a.value.top}]});q(()=>{P(s,h=>{h?window.addEventListener("scroll",S,{passive:!0}):window.removeEventListener("scroll",S)},{immediate:!0})}),Q(()=>{document.removeEventListener("scroll",S)});let w=0;function S(){var E;const h=w>window.scrollY?"up":"down",l=r.value.getBoundingClientRect(),f=parseFloat((E=a.value.top)!=null?E:0),m=window.scrollY-Math.max(0,t.value-f),u=l.height+Math.max(t.value,f)-window.scrollY-window.innerHeight;l.height<window.innerHeight-f?(o.value="top",t.value=f):h==="up"&&o.value==="bottom"||h==="down"&&o.value==="top"?(t.value=window.scrollY+l.top,o.value=!0):h==="down"&&u<=0?(t.value=0,o.value="bottom"):h==="up"&&m<=0&&(t.value=l.top+m,o.value="top"),w=window.scrollY}return{isStuck:o,stickyStyles:v}}const He=100,Pe=20;function U(e){const r=1.41421356237;return(e<0?-1:1)*Math.sqrt(Math.abs(e))*r}function F(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let r=0;for(let s=e.length-1;s>0;s--){if(e[s].t===e[s-1].t)continue;const a=U(r),o=(e[s].d-e[s-1].d)/(e[s].t-e[s-1].t);r+=(o-a)*Math.abs(o),s===e.length-1&&(r*=.5)}return U(r)*1e3}function $e(){const e={};function r(o){Array.from(o.changedTouches).forEach(t=>{var w;((w=e[t.identifier])!=null?w:e[t.identifier]=new ee(Pe)).push([o.timeStamp,t])})}function s(o){Array.from(o.changedTouches).forEach(t=>{delete e[t.identifier]})}function a(o){var t;const v=(t=e[o])==null?void 0:t.values().reverse();if(!v)throw new Error(`No samples for touch id ${o}`);const w=v[0],S=[],h=[];for(const l of v){if(w[0]-l[0]>He)break;S.push({t:l[0],d:l[1].clientX}),h.push({t:l[0],d:l[1].clientY})}return{x:F(S),y:F(h),get direction(){const{x:l,y:f}=this,[m,u]=[Math.abs(l),Math.abs(f)];return m>u&&l>=0?"right":m>u&&l<=0?"left":u>m&&f>=0?"down":u>m&&f<=0?"up":Ne()}}}return{addMovement:r,endTouch:s,getVelocity:a}}function Ne(){throw new Error}function We(e){let{isActive:r,isTemporary:s,width:a,touchless:o,position:t}=e;q(()=>{window.addEventListener("touchstart",V,{passive:!0}),window.addEventListener("touchmove",M,{passive:!1}),window.addEventListener("touchend",_,{passive:!0})}),Q(()=>{window.removeEventListener("touchstart",V),window.removeEventListener("touchmove",M),window.removeEventListener("touchend",_)});const v=g(()=>t.value!=="bottom"),{addMovement:w,endTouch:S,getVelocity:h}=$e();let l=!1;const f=x(!1),m=x(0),u=x(0);let E;function B(n,i){return(t.value==="left"?n:t.value==="right"?document.documentElement.clientWidth-n:t.value==="bottom"?document.documentElement.clientHeight-n:C())-(i?a.value:0)}function T(n){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const d=t.value==="left"?(n-u.value)/a.value:t.value==="right"?(document.documentElement.clientWidth-n-u.value)/a.value:t.value==="bottom"?(document.documentElement.clientHeight-n-u.value)/a.value:C();return i?Math.max(0,Math.min(1,d)):d}function V(n){if(o.value)return;const i=n.changedTouches[0].clientX,d=n.changedTouches[0].clientY,y=25,k=t.value==="left"?i<y:t.value==="right"?i>document.documentElement.clientWidth-y:t.value==="bottom"?d>document.documentElement.clientHeight-y:C(),b=r.value&&(t.value==="left"?i<a.value:t.value==="right"?i>document.documentElement.clientWidth-a.value:t.value==="bottom"?d>document.documentElement.clientHeight-a.value:C());(k||b||r.value&&s.value)&&(l=!0,E=[i,d],u.value=B(v.value?i:d,r.value),m.value=T(v.value?i:d),S(n),w(n))}function M(n){const i=n.changedTouches[0].clientX,d=n.changedTouches[0].clientY;if(l){if(!n.cancelable){l=!1;return}const k=Math.abs(i-E[0]),b=Math.abs(d-E[1]);(v.value?k>b&&k>3:b>k&&b>3)?(f.value=!0,l=!1):(v.value?b:k)>3&&(l=!1)}if(!f.value)return;n.preventDefault(),w(n);const y=T(v.value?i:d,!1);m.value=Math.max(0,Math.min(1,y)),y>1?u.value=B(v.value?i:d,!0):y<0&&(u.value=B(v.value?i:d,!1))}function _(n){if(l=!1,!f.value)return;w(n),f.value=!1;const i=h(n.changedTouches[0].identifier),d=Math.abs(i.x),y=Math.abs(i.y);(v.value?d>y&&d>400:y>d&&y>3)?r.value=i.direction===({left:"right",right:"left",bottom:"up"}[t.value]||C()):r.value=m.value>.5}const R=g(()=>f.value?{transform:t.value==="left"?`translateX(calc(-100% + ${m.value*a.value}px))`:t.value==="right"?`translateX(calc(100% - ${m.value*a.value}px))`:t.value==="bottom"?`translateY(calc(100% - ${m.value*a.value}px))`:C(),transition:"none"}:void 0);return{isDragging:f,dragProgress:m,dragStyles:R}}function C(){throw new Error}const De=["start","end","left","right","bottom"],Ie=te({name:"VNavigationDrawer",props:{color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:Boolean,railWidth:{type:[Number,String],default:56},scrim:{type:[String,Boolean],default:!0},image:String,temporary:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:e=>De.includes(e)},sticky:Boolean,...ae(),...ne(),...oe(),...le(),...ue({tag:"nav"}),...ie()},emits:{"update:modelValue":e=>!0},setup(e,r){let{attrs:s,slots:a}=r;const{isRtl:o}=re(),{themeClasses:t}=se(e),{borderClasses:v}=ce(e),{backgroundColorClasses:w,backgroundColorStyles:S}=X(z(e,"color")),{elevationClasses:h}=ve(e),{mobile:l}=de(),{roundedClasses:f}=me(e),m=fe(),u=he(e,"modelValue",null,p=>!!p),{ssrBootStyles:E}=ge(),B=x(),T=x(!1),V=g(()=>e.rail&&e.expandOnHover&&T.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),M=g(()=>pe(e.location,o.value)),_=g(()=>!e.permanent&&(l.value||e.temporary)),R=g(()=>e.sticky&&!_.value&&M.value!=="bottom");e.disableResizeWatcher||P(_,p=>!e.permanent&&Ee(()=>u.value=!p)),!e.disableRouteWatcher&&m&&P(m.currentRoute,()=>_.value&&(u.value=!1)),P(()=>e.permanent,p=>{p&&(u.value=!0)}),we(()=>{e.modelValue!=null||_.value||(u.value=e.permanent||!l.value)});const{isDragging:n,dragProgress:i,dragStyles:d}=We({isActive:u,isTemporary:_,width:V,touchless:z(e,"touchless"),position:M}),y=g(()=>{const p=_.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):V.value;return n.value?p*i.value:p}),{layoutItemStyles:k,layoutRect:b,layoutItemScrimStyles:$}=ye({id:e.name,order:g(()=>parseInt(e.order,10)),position:M,layoutSize:y,elementSize:V,active:g(()=>u.value||n.value),disableTransitions:g(()=>n.value),absolute:g(()=>e.absolute||R.value&&typeof N.value!="string")}),{isStuck:N,stickyStyles:J}=Ye({rootEl:B,isSticky:R,layoutItemStyles:k}),W=X(g(()=>typeof e.scrim=="string"?e.scrim:null)),K=g(()=>({...n.value?{opacity:i.value*.2,transition:"none"}:void 0,...b.value?{left:Y(b.value.left),right:Y(b.value.right),top:Y(b.value.top),bottom:Y(b.value.bottom)}:void 0,...$.value}));return be({VList:{bgColor:"transparent"}}),_e(()=>{var p,D,I,O;const G=a.image||e.image;return c(j,null,[c(e.tag,Se({ref:B,onMouseenter:()=>T.value=!0,onMouseleave:()=>T.value=!1,class:["v-navigation-drawer",`v-navigation-drawer--${M.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":T.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":_.value,"v-navigation-drawer--active":u.value,"v-navigation-drawer--sticky":R.value},t.value,w.value,v.value,h.value,f.value],style:[S.value,k.value,d.value,E.value,J.value]},s),{default:()=>[G&&c("div",{key:"image",class:"v-navigation-drawer__img"},[a.image?(p=a.image)==null?void 0:p.call(a,{image:e.image}):c("img",{src:e.image,alt:""},null)]),a.prepend&&c("div",{class:"v-navigation-drawer__prepend"},[(D=a.prepend)==null?void 0:D.call(a)]),c("div",{class:"v-navigation-drawer__content"},[(I=a.default)==null?void 0:I.call(a)]),a.append&&c("div",{class:"v-navigation-drawer__append"},[(O=a.append)==null?void 0:O.call(a)])]}),c(ke,{name:"fade-transition"},{default:()=>[_.value&&(n.value||u.value)&&!!e.scrim&&c("div",{class:["v-navigation-drawer__scrim",W.backgroundColorClasses.value],style:[K.value,W.backgroundColorStyles.value],onClick:()=>u.value=!1},null)]})])}),{isStuck:N}}}),ze={__name:"AdminLayout",setup(e){const r=Te(),{avatar:s,account:a}=Me(r);return(o,t)=>{const v=xe("router-view");return Be(),Ve(j,null,[c(Ie,{permanent:""},{default:L(()=>[c(Z,null,{default:L(()=>[c(H,{"prepend-avatar":A(s),title:A(a)},null,8,["prepend-avatar","title"])]),_:1}),c(Re),c(Z,null,{default:L(()=>[c(H,{to:"/admin/products",title:"\u5546\u54C1\u7BA1\u7406","prepend-icon":"mdi-shopping"}),c(H,{to:"/admin/orders",title:"\u8A02\u55AE\u7BA1\u7406","prepend-icon":"mdi-format-list-bulleted"}),c(H,{to:"/",title:"\u56DE\u9996\u9801","prepend-icon":"mdi-home"})]),_:1})]),_:1}),c(Ce,null,{default:L(()=>[c(Le,null,{default:L(()=>[c(v)]),_:1})]),_:1})],64)}}};export{ze as default};
